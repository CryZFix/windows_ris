# Windows сервер для установки ОС по локальной сети

Данный материал подготовлен на основе другой инструкиции, с добавлением щепотки автоматизации для личного удобства. С полным разбором по шагам можно ознакомится в [оигинальной инструкции.](https://www.youtube.com/playlist?list=PL2BaVmpX7hX9mS9H6phVs-Mi55hQp0zTn)

---

- [Требования](#требования)
- [Установка](#установка)
- [Настройка Windows](#настройка-windows)
- [Настройка Linux](#настройка-linux)
- [Утилиты](#утилиты)

---

## Требования
1. Железо: ЦП 1.6GHz - 2 ядра или лучше, ОЗУ 1Гб или более, HDD под ваши хотелки
2. Установленный Windows Automated Installation Kit
3. Microsoft .NET Framework 4.5 или новее
4. Microsoft Visual C++ 2010 или новее

---

## Установка
1. Скачать [архив](https://github.com/CryZFix/windows_ris/archive/refs/heads/main.zip) с репозиторием.
2. Распаковать в корень диска.
3. Открыть **Start.bat** в блокноте и исправить букву диска, начиная со строки **`MD d:\netboot\boot`** если требуется в соответсвии с вашим расположением файлов.
Измените значения в скобках в строке **`FOR %%a IN (10x64) do`** в соответсвии с вашими предпочтениями.
4. Запутить **Start.bat** и дождитесь завершения.

---

## Настройка Windows
По умолчанию образ **WinPE.wim** поддерживает малое колличество сетевых карт и при пробной загрузке вы можете получить ошибку: **```Системная ошибка 1231.```** Для её исправления потребуется добавить драйвера на сетевой контроллер вашей материнской платы в образ.
Подробнее о добавлении драйверов [тут](https://learn.microsoft.com/en-us/windows-hardware/manufacture/desktop/winpe-mount-and-customize?view=windows-11#mount-the-windows-pe-boot-image) и [тут](https://www.youtube.com/watch?v=TwpZKIjXtB8).

После добавления драйверов, продолжаем:
1. Качаем образ операционной системы, желательно оригинальный или с минимальными мдификациями
2. Извлекаем из образа папку **sources** и кладем её в созданную ранее с помощью **Start.bat**, для соответсвующей системы.

---

## Настройка Linux

Дополняется..

---

## Утилиты
Дополнительные инструмены входящие в состав репозитория
1. **MEMTEST.IMG** --- Утилиты для теста оперативной памяти на наличие ошибок.
2. **v35.iso** --- Инструмент для жиагностики жестких дисков.
